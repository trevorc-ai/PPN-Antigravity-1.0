---
id: WO-051.4
status: 00_INBOX
priority: P2 (Normal)
category: Feature
owner: PENDING_LEAD_ASSIGNMENT
failure_count: 0
parent_ticket: WO-051
estimated_hours: 3-4
---

# WO-051.4: Timestamp Enhancements for Remaining Forms

## User Request
Add "Now" buttons and relative time displays to PostSessionAssessmentsForm, AdverseEventForm, and RescueProtocolForm.

## Parent Ticket
WO-051 - Phase 2 Forms Redesign (Dosing Session)

## Scope
Add timestamp enhancements to 3 remaining Phase 2 forms:
1. PostSessionAssessmentsForm - "Now" buttons for completion timestamps
2. AdverseEventForm - "Now" button + time since dose
3. RescueProtocolForm - "Start/End Intervention" buttons + duration tracker

## Technical Details

### Files to Modify
1. `src/components/arc-of-care-forms/phase-2-dosing/PostSessionAssessmentsForm.tsx`
2. `src/components/arc-of-care-forms/phase-2-dosing/AdverseEventForm.tsx`
3. `src/components/arc-of-care-forms/phase-2-dosing/RescueProtocolForm.tsx`

### Files Already Created (Ready to Use)
1. âœ… `src/components/arc-of-care-forms/shared/NowButton.tsx`
2. âœ… `src/components/arc-of-care-forms/shared/RelativeTimeDisplay.tsx`

### Task 1: PostSessionAssessmentsForm

**Changes:**
- Add "Now" buttons for MEQ-30 and EDI completion timestamps
- Auto-calculate time since session end

**UI Enhancement:**
```tsx
MEQ-30 Score: [85] (0-100)
Completed: [05:30 PM] [Now]
(30 minutes after session ended)

EDI Score: [72] (0-100)
Completed: [05:32 PM] [Now]
(32 minutes after session ended)
```

### Task 2: AdverseEventForm

**Changes:**
- Add "Now" button for occurrence timestamp
- Add time since dose administered

**UI Enhancement:**
```tsx
Occurred At: [02:45 PM] [Now]
(2 hours 15 minutes after dose)
```

### Task 3: RescueProtocolForm

**Changes:**
- Add "Start Intervention" button
- Add "End Intervention" button
- Add active intervention indicator with duration tracker

**UI Mockup:**
```tsx
Intervention Type: [Verbal Reassurance â–¼]

[Start Intervention]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš¨ INTERVENTION IN PROGRESS             â”‚
â”‚ Duration: 15 minutes                    â”‚
â”‚ Type: Verbal Reassurance                â”‚
â”‚                                         â”‚
â”‚ [End Intervention]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Outcome:
â— Effective - Patient stabilized
â—‹ Partially Effective
â—‹ Ineffective
```

## Success Criteria
- âœ… "Now" buttons capture current timestamp correctly
- âœ… Relative time displays show accurate time differences
- âœ… Rescue Protocol intervention tracker shows duration in real-time
- âœ… All forms maintain WCAG AAA accessibility
- âœ… Touch count reduced by 30-40% across all 3 forms

## Testing
- [ ] Test "Now" buttons in PostSessionAssessmentsForm
- [ ] Test relative time calculations in AdverseEventForm
- [ ] Test "Start/End Intervention" buttons in RescueProtocolForm
- [ ] Test intervention duration tracker updates in real-time
- [ ] Test keyboard navigation
- [ ] Test screen reader announces button actions

---

**Estimated Effort:** 3-4 hours  
**Dependencies:** None (components already created)  
**Blocks:** None (independent sub-ticket)
