---
id: WO-051.2
status: 00_INBOX
priority: P1 (High)
category: Feature
owner: PENDING_LEAD_ASSIGNMENT
failure_count: 0
parent_ticket: WO-051
estimated_hours: 6-8
---

# WO-051.2: Session Timeline Visual Enhancement

## User Request
Add visual timeline component and quick-action buttons to SessionTimelineForm to reduce touch count from 20-28 to 4 touches (83% reduction).

## Parent Ticket
WO-051 - Phase 2 Forms Redesign (Dosing Session)

## Scope
Create visual timeline component and add quick-action buttons:
- "Mark Dose" button
- "Mark Onset" button
- "Mark Peak" button
- "End Session" button

## Technical Details

### Files to Create
1. `src/components/arc-of-care-forms/shared/VisualTimeline.tsx` - SVG-based timeline visualization

### Files to Modify
1. `src/components/arc-of-care-forms/phase-2-dosing/SessionTimelineForm.tsx`

### Files Already Created (Ready to Use)
1. ✅ `src/components/arc-of-care-forms/shared/NowButton.tsx`
2. ✅ `src/components/arc-of-care-forms/shared/RelativeTimeDisplay.tsx`

### Visual Timeline Component Spec

**Features:**
- SVG-based horizontal timeline
- 4 milestone markers (Dose, Onset, Peak, End)
- Elapsed time calculator
- Progress indicator
- Responsive design

**UI Mockup:**
```
┌─────────────────────────────────────────┐
│ ├─────●─────────●──────────○──────────○─┤│
│ 12:30      1:15        2:45         5:00│
│ Dose      Onset       Peak          End │
│ Elapsed: 2h 15m                          │
└─────────────────────────────────────────┘
```

### Quick-Action Buttons

Replace time pickers with one-click buttons:

```tsx
<button onClick={() => markEvent('dose')}>
  Mark Dose
</button>
<button onClick={() => markEvent('onset')}>
  Mark Onset
</button>
<button onClick={() => markEvent('peak')}>
  Mark Peak
</button>
<button onClick={() => markEvent('end')}>
  End Session
</button>
```

## Success Criteria
- ✅ Visual timeline displays all 4 milestones
- ✅ Quick-action buttons capture current timestamp
- ✅ Elapsed time calculator shows time since dose
- ✅ Touch count reduced from 20-28 to 4 (83% reduction)
- ✅ Timeline updates in real-time as events are marked
- ✅ WCAG AAA accessibility (text alternative for visual timeline)

## Testing
- [ ] Test all 4 quick-action buttons work correctly
- [ ] Test visual timeline updates in real-time
- [ ] Test elapsed time calculation is accurate
- [ ] Test keyboard navigation
- [ ] Test screen reader announces timeline state

---

**Estimated Effort:** 6-8 hours  
**Dependencies:** None (components already created)  
**Blocks:** None (independent sub-ticket)
